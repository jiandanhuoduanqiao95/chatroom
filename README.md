# 设计并实现一个基于TCP协议的客户端-服务器(C/S)通信程序

## 实现：
0.实现使用SSL加密通信
  实现离线消息存储与转发功能
  添加了一个简陋的图形化界面
  支持用户和用户之间进行通信

1.实现好友功能
  现在用户可以对所有在线的用户发起对话，要用好友功能进行限制
  实现好友列表，可以进行好友查看和管理

2.安全增强
  用cryptography库实现端到端加密，服务器无法解密
  双重认证(登录流程增强eg.验证码)
  安全审计(记录敏感操作日志 异常登录检测和报警)

3.消息状态追踪
  消息回执功能(eg.对方已成功接收)
  消息撤回功能
  文件下载选择功能

4.实现群组聊天功能
  实现创建/加入群聊，群聊消息广播、群文件共享
  添加群管理员权限体系

5.安全增强
  安全审计(记录敏感操作日志 异常登录检测和报警)

6.用户体验提升
  引入表情包等功能
  支持图片预览
  用户状态系统(在线状态显示 输入状态提示)
  搜索功能(Elasticsearch全局消息搜索 联系人搜索)

7.移植到Web端(客户端越多越好，初步有windows端和web端)

8.性能优化与可拓展性
  使用RabbitMQ/Kafka处理高并发消息
  离线消息推送改用异步队列

9.管理功能增强
  数据看板
  内容审核

10.机器人平台
  创建聊天机器人接口
  支持Webhook消息推送
*******************************
## 优化：
### 短期优化（功能性与安全性）:
1.修改好友列表刷新逻辑，服务器返回实时在线状态。(完成)

2.实现文件分块传输，优化大文件处理。(完成)

3.添加离线消息过期清理机制。

4.增强管理员命令权限验证。

5.客户端预哈希密码，启用严格SSL主机名验证。

6.添加用户名格式验证，防止SQL注入。

7.server端非正常报错(eg.”已断开连接“)

### 中期优化（性能与用户体验）:
1.优化数据库连接，使用连接池或单一连接。

2.细化服务器锁粒度，减少线程阻塞。

3.使用tkinter.after优化客户端消息接收，防止界面卡顿。

4.添加消息时间戳，改进错误提示。

### 未来计划:
1.引入配置文件（如config.yaml）替代硬编码配置。

2.添加单元测试和集成测试（使用unittest或pytest）。

3.支持多语言界面，提升国际化体验。   
